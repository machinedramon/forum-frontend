FileTree:
üìÑ.env
üìÑ.eslintrc.json
üìÑ.gitignore
üìÑREADME.md
üìÇapp
  üìÇbook
    üìÇ[id]
      üìÑpage.js
  üìÑglobals.css
  üìÇhome
    üìÑpage.js
  üìÑlayout.js
  üìÑpage.js
  üìÑproviders.jsx
  üìÇsearch
    üìÑpage.js
üìÇcomponents
  üìÑBookCarouselSection.jsx
  üìÑBookSearch.jsx
  üìÑBookSearchById.jsx
  üìÑHero.jsx
  üìÑMainLayout.js
  üìÑSidebar.jsx
üìÇcontext
  üìÑBookContext.jsx
  üìÑLayoutContext.jsx
üìÑjsconfig.json
üìÑnext.config.mjs
üìÑpackage.json
üìÑpostcss.config.mjs
üìÑtailwind.config.js
üìÇutils
  üìÑmeilisearchClient.js


Details:
{".env":{"path":"/home/di/jobs/forum-frontend/.env","content":"NEXT_PUBLIC_API_TOKEN=tmZuPXRr10AvXmQxJAfY4ENPDrGRWFDSS8fWGWuN9ngNEXT_PUBLIC_MEILISEARCH_HOST=http://localhost:7700NEXT_PUBLIC_MEILISEARCH_API_KEY=tmZuPXRr10AvXmQxJAfY4ENPDrGRWFDSS8fWGWuN9ng"},".eslintrc.json":{"path":"/home/di/jobs/forum-frontend/.eslintrc.json","content":"{\"extends\":\"next/core-web-vitals\"}"},".gitignore":{"path":"/home/di/jobs/forum-frontend/.gitignore","content":"#Seehttps://help.github.com/articles/ignoring-files/formoreaboutignoringfiles.#dependencies/node_modules/.pnp.pnp.js.yarn/install-state.gz#testing/coverage#next.js/.next//out/#production/build#misc.DS_Store*.pem#debugnpm-debug.log*yarn-debug.log*yarn-error.log*#localenvfiles.env*.local#vercel.vercel#typescript*.tsbuildinfonext-env.d.ts"},"README.md":{"path":"/home/di/jobs/forum-frontend/README.md","content":"Thisisa[Next.js](https://nextjs.org/)projectbootstrappedwith[`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app).##GettingStartedFirst,runthedevelopmentserver:```bashnpmrundev#oryarndev#orpnpmdev#orbundev```Open[http://localhost:3000](http://localhost:3000)withyourbrowsertoseetheresult.Youcanstarteditingthepagebymodifying`app/page.js`.Thepageauto-updatesasyoueditthefile.Thisprojectuses[`next/font`](https://nextjs.org/docs/basic-features/font-optimization)toautomaticallyoptimizeandloadInter,acustomGoogleFont.##LearnMoreTolearnmoreaboutNext.js,takealookatthefollowingresources:-[Next.jsDocumentation](https://nextjs.org/docs)-learnaboutNext.jsfeaturesandAPI.-[LearnNext.js](https://nextjs.org/learn)-aninteractiveNext.jstutorial.Youcancheckout[theNext.jsGitHubrepository](https://github.com/vercel/next.js/)-yourfeedbackandcontributionsarewelcome!##DeployonVercelTheeasiestwaytodeployyourNext.jsappistousethe[VercelPlatform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme)fromthecreatorsofNext.js.Checkoutour[Next.jsdeploymentdocumentation](https://nextjs.org/docs/deployment)formoredetails."},"app":{"book":{"[id]":{"page.js":{"path":"/home/di/jobs/forum-frontend/app/book/[id]/page.js","content":"/*eslint-disablereact-hooks/exhaustive-deps*///app/book/[id]/page.js\"useclient\";importReact,{useEffect,useState,useRef}from\"react\";importaxiosfrom\"axios\";import{Tabs,Tab,Card,CardBody,Image,Button,Chip,Accordion,AccordionItem,Spinner,Select,}from\"@nextui-org/react\";import{motion}from\"framer-motion\";importMainLayoutfrom\"@/components/MainLayout\";import{ScrollShadow}from\"@nextui-org/react\";import{FaFolderPlus,FaBook,FaEllipsisV,FaTimes,FaExpand,FaSearchPlus,FaSearchMinus,}from\"react-icons/fa\";import{Document,Page,pdfjs}from\"react-pdf\";import\"react-pdf/dist/esm/Page/AnnotationLayer.css\";import\"react-pdf/dist/esm/Page/TextLayer.css\";pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.mjs`;constBookDetails=({params})=>{const{id}=params;const[book,setBook]=useState(null);const[coverImageUrl,setCoverImageUrl]=useState(\"\");const[selectedPdfUrl,setSelectedPdfUrl]=useState(\"\");const[numPages,setNumPages]=useState(null);const[loading,setLoading]=useState(false);const[isFullScreen,setIsFullScreen]=useState(false);const[zoom,setZoom]=useState(1.0);constpdfViewerRef=useRef(null);constfetchBookDetails=async()=>{try{constresponse=awaitaxios.get(`http://localhost:7700/indexes/livros/documents/${id}`,{headers:{Authorization:`Bearer${process.env.NEXT_PUBLIC_MEILISEARCH_API_KEY}`,},});setBook(response.data);const[firstPart,secondPart]=response.data.id.split(\"-\");consturl=`https://bid1006-production-public.s3-sa-east-1.amazonaws.com/books/cover/${firstPart}/editions/${secondPart}.jpg`;setCoverImageUrl(url);}catch(error){console.error(\"Errorfetchingbookdetails:\",error);router.push(\"/\");//Redirecionaparaap√°ginainicialsehouverumerro}};useEffect(()=>{fetchBookDetails();},[id]);consthandleDocumentLoadSuccess=({numPages})=>{setNumPages(numPages);setLoading(false);};constrenderLoading=()=>(<divclassName=\"flexjustify-centeritems-centerw-fullh-[100vh]\"><Spinnerlabel=\"Carregandolivro...\"color=\"warning\"/></div>);consttoggleFullScreen=()=>{if(!document.fullscreenElement){pdfViewerRef.current.requestFullscreen().catch((err)=>{console.error(`Errorattemptingtoenablefull-screenmode:${err.message}(${err.name})`);});}else{document.exitFullscreen();}};useEffect(()=>{consthandleFullScreenChange=()=>{setIsFullScreen(!!document.fullscreenElement);};document.addEventListener(\"fullscreenchange\",handleFullScreenChange);return()=>{document.removeEventListener(\"fullscreenchange\",handleFullScreenChange);};},[]);constzoomIn=()=>setZoom((prevZoom)=>Math.min(prevZoom+0.2,3.0));constzoomOut=()=>setZoom((prevZoom)=>Math.max(prevZoom-0.2,0.5));if(!book){returnrenderLoading();}const{text_2:title,text_5:subtitle,text_3:description,filters=[],publish_date,bgImage,book_serie,meta,editions,chapters,}=book;constauthor=filters.find((filter)=>filter.id.startsWith(\"author_\"))?.title||\"N/A\";constseries=book_serie?.title||\"N/A\";constdetails=[{label:\"Autor(es)\",value:author},{label:\"CDD\",value:book.cdd||\"N/A\"},{label:\"CDU\",value:book.cdu||\"N/A\"},{label:\"N¬∫dep√°ginas\",value:editions?.pages||\"N/A\"},{label:\"ISBN\",value:editions?.isbn||\"N/A\"},{label:\"Ano\",value:newDate(publish_date).getFullYear()},{label:\"S√©rie\",value:series},{label:\"Edi√ß√£o\",value:editions?.number||\"N/A\"},];consthandleEditionChange=(editionId)=>{constselectedEdition=editions.find((edition)=>edition.id===editionId);const[firstPart,secondPart]=selectedEdition.id.split(\"-\");constnewCoverUrl=`https://bid1006-production-public.s3-sa-east-1.amazonaws.com/books/cover/${firstPart}/editions/${secondPart}.jpg`;setCoverImageUrl(newCoverUrl);};constrenderChapters=(chapterType)=>{returnchapters.filter((chapter)=>chapter.chapter_type===chapterType).map((chapter)=>(<divkey={chapter.id}className=\"flexjustify-betweenitems-centermy-2\"><buttononClick={()=>setSelectedPdfUrl(chapter.pdf)}className=\"text-blue-500underlinemax-w-[80%]\">{chapter.title}</button><ButtonisIconOnlyvariant=\"light\"autoclassName=\"text-white\"><FaEllipsisVcolor=\"#fff\"/></Button></div>));};constrenderBookDetails=()=>(<><motion.imgloading=\"eager\"src={bgImage}alt={title}className=\"absoluteinset-0w-fullh-fullobject-cover\"initial={{scale:1.4}}animate={{x:[-40,40],scale:1.2}}transition={{repeat:Infinity,repeatType:\"reverse\",duration:20,}}/><divclassName=\"absoluteinset-0bg-gradient-to-tfrom-blackvia-transparentto-transparent\"></div><divclassName=\"absoluteinset-0bg-gradient-to-rfrom-blackto-transparent\"></div><divclassName=\"relativez-10h-fullflexflex-colw-full\"><divclassName=\"containermx-autop-4bg-blackbg-opacity-75text-whiteh-fullflex\"><divclassName=\"w-1/2flexitems-centerjustify-center\"><Imagesrc={coverImageUrl}alt={title}className=\"max-w-fullmax-h-[600px]rounded-md\"/></div><divclassName=\"w-1/2flexflex-colh-fulloverflow-hidden\"><Chipcolor=\"primary\"radius=\"sm\"className=\"mb-4\">Livro</Chip><h1className=\"text-4xlfont-boldmb-2\">{title}</h1><h2className=\"text-2xlmb-4\">{subtitle}</h2><divclassName=\"flexgap-4mb-4\"><Buttoncolor=\"primary\"startContent={<FaFolderPlus/>}>Adicionar√†pasta</Button><Buttoncolor=\"primary\"startContent={<FaBook/>}>Refer√™nciabibliogr√°fica</Button><Selectplaceholder=\"Selecioneaedi√ß√£o\"onChange={(e)=>handleEditionChange(e.target.value)}className=\"w-48\">{editions.map((edition)=>(<Select.Optionkey={edition.id}value={edition.id}>{edition.name}</Select.Option>))}</Select></div><Tabsaria-label=\"BookDetails\"className=\"h-full\"><Tabkey=\"info\"title=\"Informa√ß√µes\"className=\"h-full\"><CardclassName=\"h-full\"><CardBodyclassName=\"h-full\"><ScrollShadowclassName=\"h-[400px]\"><h3className=\"text-2xlfont-boldmt-4mb-4\">Descri√ß√£o</h3><p>{description}</p><h3className=\"text-2xlfont-boldmt-4mb-4\">Detalhes</h3>{details.map((detail,index)=>(<pkey={index}className=\"mb-2\"><spanclassName=\"font-bold\">{detail.label}:</span>{\"\"}{detail.value}</p>))}</ScrollShadow></CardBody></Card></Tab><Tabkey=\"editions\"title=\"Cap√≠tulos\"className=\"h-full\"><CardclassName=\"h-full\"><CardBodyclassName=\"h-fulloverflow-y-auto\"><ScrollShadowclassName=\"h-[400px]\">{editions&&(<div><Accordionvariant=\"shadow\"defaultExpandedKeys={[\"pre-textual\"]}><AccordionItemkey=\"pre-textual\"aria-label=\"Pre-textual\"title=\"Pre-textual\">{renderChapters(\"pre-textual\")}</AccordionItem><AccordionItemkey=\"capitulo\"aria-label=\"Cap√≠tulos\"title=\"Cap√≠tulos\">{renderChapters(\"capitulo\")}</AccordionItem><AccordionItemkey=\"pos-textual\"aria-label=\"Pos-textual\"title=\"Pos-textual\">{renderChapters(\"pos-textual\")}</AccordionItem></Accordion></div>)}</ScrollShadow></CardBody></Card></Tab></Tabs></div></div></div></>);return(<MainLayout><divclassName=\"relativew-fullh-screenoverflow-hidden\">{selectedPdfUrl?(<divref={pdfViewerRef}className=\"absoluteinset-0bg-blackbg-opacity-75z-20flexflex-col\"><divclassName=\"flexjustify-betweenitems-centerp-4bg-blackbg-opacity-75\"><divclassName=\"flexgap-4\"><Buttoncolor=\"error\"onClick={()=>setSelectedPdfUrl(\"\")}startContent={<FaTimes/>}>Fechar</Button><Buttoncolor=\"primary\"onClick={toggleFullScreen}startContent={<FaExpand/>}>{isFullScreen?\"Sairdatelacheia\":\"Telacheia\"}</Button><Buttoncolor=\"primary\"onClick={zoomIn}startContent={<FaSearchPlus/>}>ZoomIn</Button><Buttoncolor=\"primary\"onClick={zoomOut}startContent={<FaSearchMinus/>}>ZoomOut</Button></div></div><divclassName=\"flex-growflexjustify-centeritems-centeroverflow-y-auto\">{loading&&renderLoading()}<Documentfile={selectedPdfUrl}onLoadSuccess={handleDocumentLoadSuccess}onLoadStart={()=>setLoading(true)}loading={renderLoading()}>{Array.from(newArray(numPages),(el,index)=>(<Pagekey={`page_${index+1}`}pageNumber={index+1}scale={zoom}className=\"mb-4\"renderAnnotationLayer={false}/>))}</Document></div></div>):(renderBookDetails())}</div></MainLayout>);};exportdefaultBookDetails;"}}},"globals.css":{"path":"/home/di/jobs/forum-frontend/app/globals.css","content":"@tailwindbase;@tailwindcomponents;@tailwindutilities;@layerutilities{.glassmorphism{@applybg-blackbg-opacity-95rounded-2xlshadow-lgfilter;border:1pxsolidrgba(0,0,0,0.19);}}*{scrollbar-width:thin;scrollbar-color:#da002b#000;}:root{--foreground-rgb:0,0,0;--background-start-rgb:214,219,220;--background-end-rgb:255,255,255;}@media(prefers-color-scheme:dark){:root{--foreground-rgb:255,255,255;--background-start-rgb:0,0,0;--background-end-rgb:0,0,0;}}body{color:rgb(var(--foreground-rgb));background:linear-gradient(tobottom,transparent,rgb(var(--background-end-rgb)))rgb(var(--background-start-rgb));}@layerutilities{.text-balance{text-wrap:balance;}}"},"home":{"page.js":{"path":"/home/di/jobs/forum-frontend/app/home/page.js","content":"//app/home/page.js\"useclient\";import{useContext,useEffect,useRef,useState}from\"react\";importMainLayoutfrom\"@/components/MainLayout\";import{LayoutContext}from\"@/context/LayoutContext\";import{BookContext}from\"@/context/BookContext\";import{ScrollShadow}from\"@nextui-org/react\";import{motion,AnimatePresence}from\"framer-motion\";importHerofrom\"@/components/Hero\";importaxiosfrom\"axios\";importBookCarouselSectionfrom\"@/components/BookCarouselSection\";constHERO_EXPANDED_HEIGHT=70;constHERO_COLLAPSED_HEIGHT=50;constSECTIONS_EXPANDED_HEIGHT=30;constSECTIONS_COLLAPSED_HEIGHT=50;constanimationDuration=0.5;constsectionVariants={hidden:{opacity:0},visible:{opacity:1},};constHome=()=>{const{heroHeight,setHeroHeight,setIsHeroExpanded}=useContext(LayoutContext);const{selectedBook}=useContext(BookContext);constscrollContainerRef=useRef(null);const[currentBookIndex,setCurrentBookIndex]=useState(0);const[books,setBooks]=useState([]);const[isHovered,setIsHovered]=useState(false);consthandleMouseEnter=()=>{setIsHovered(true);};consthandleMouseLeave=()=>{setIsHovered(false);};constfetchBooks=async()=>{try{constresponse=awaitaxios.get(\"http://localhost:7700/indexes/livros/search\",{params:{q:\"\",limit:50},headers:{Authorization:`Bearer${process.env.NEXT_PUBLIC_MEILISEARCH_API_KEY}`,},});setBooks(response.data.hits);}catch(error){console.error(\"Errorfetchingbooks:\",error);}};useEffect(()=>{fetchBooks();},[]);useEffect(()=>{consthandleMouseEnter=()=>{setHeroHeight(HERO_COLLAPSED_HEIGHT);setIsHeroExpanded(false);scrollContainerRef.current.style.height=`${SECTIONS_COLLAPSED_HEIGHT}vh`;};consthandleMouseLeave=()=>{setHeroHeight(HERO_EXPANDED_HEIGHT);setIsHeroExpanded(true);scrollContainerRef.current.style.height=`${SECTIONS_EXPANDED_HEIGHT}vh`;};constcontainer=scrollContainerRef.current;container.addEventListener(\"mouseenter\",handleMouseEnter);container.addEventListener(\"mouseleave\",handleMouseLeave);return()=>{container.removeEventListener(\"mouseenter\",handleMouseEnter);container.removeEventListener(\"mouseleave\",handleMouseLeave);};},[setHeroHeight,setIsHeroExpanded]);useEffect(()=>{constinterval=setInterval(()=>{setCurrentBookIndex((prevIndex)=>(prevIndex+1)%books.length);},10000);return()=>clearInterval(interval);},[books]);constbookToShow=selectedBook||books[currentBookIndex];return(<MainLayout><motion.sectionclassName=\"flexitems-centerjustify-centerstickytop-0z-10\"initial={{height:`${HERO_EXPANDED_HEIGHT}vh`}}animate={{height:`${heroHeight}vh`}}transition={{type:\"spring\",stiffness:160,damping:30}}id=\"hero\"><AnimatePresencemode=\"wait\">{bookToShow&&(<motion.divkey={bookToShow.id}className=\"w-fullh-full\"initial={{opacity:0}}animate={{opacity:1}}exit={{opacity:0}}transition={{duration:animationDuration}}><Herotitle={bookToShow.text_2}summary={bookToShow.text_3}bgImage={bookToShow.bgImage}pdfLink=\"#\"publication_year={newDate(bookToShow.publish_date).getFullYear()}subjects={bookToShow.filters?.map((filter)=>filter.title)||[]}id={bookToShow.id}/></motion.div>)}</AnimatePresence></motion.section><ScrollShadowisEnabled={false}hideScrollBarclassName=\"w-fulllightoverflow-y-autosnap-ysnap-mandatorytransition-allease-linear\"ref={scrollContainerRef}style={{height:`${SECTIONS_EXPANDED_HEIGHT}vh`}}><AnimatePresenceclassName=\"transition-allease\">{books.length>0&&(<><motion.sectionclassName=\"snap-startflexitems-centerjustify-centerbg-blue-500transition-allease-in\"style={{height:\"40vh\"}}initial=\"hidden\"animate=\"visible\"variants={sectionVariants}transition={{duration:0.5}}><BookCarouselSection/></motion.section>{/*Placeholdersectionsforothercategories*/}<motion.sectionclassName=\"snap-startflexitems-centerjustify-centerbg-green-500transition-allease-in\"style={{height:\"40vh\"}}initial=\"hidden\"animate=\"visible\"variants={sectionVariants}transition={{duration:0.5}}><BookCarouselSection/></motion.section><motion.sectionclassName=\"snap-startflexitems-centerjustify-centerbg-red-500transition-allease-in\"style={{height:\"40vh\"}}initial=\"hidden\"animate=\"visible\"variants={sectionVariants}transition={{duration:0.5}}><BookCarouselSection/></motion.section><motion.sectionclassName=\"snap-startflexitems-centerjustify-centerbg-yellow-500transition-allease-in\"style={{height:\"40vh\"}}initial=\"hidden\"animate=\"visible\"variants={sectionVariants}transition={{duration:0.5}}><BookCarouselSection/></motion.section><motion.sectionclassName=\"snap-startflexitems-centerjustify-centerbg-purple-500transition-allease-in\"style={{height:\"40vh\"}}initial=\"hidden\"animate=\"visible\"variants={sectionVariants}transition={{duration:0.5}}><BookCarouselSection/></motion.section></>)}</AnimatePresence></ScrollShadow></MainLayout>);};exportdefaultHome;"}},"layout.js":{"path":"/home/di/jobs/forum-frontend/app/layout.js","content":"//app/layout.jsimport{Inter}from\"next/font/google\";import{Providers}from\"./providers\";import\"./globals.css\";constinter=Inter({subsets:[\"latin\"]});exportconstmetadata={title:\"CreateNextApp\",description:\"Generatedbycreatenextapp\",};exportdefaultfunctionRootLayout({children}){return(<htmllang=\"en\"><bodyclassName={`${inter.className}bg-green-500h-[100vh]`}><mainclassName=\"darktext-foregroundbg-background\"><Providers>{children}</Providers></main></body></html>);}"},"page.js":{"path":"/home/di/jobs/forum-frontend/app/page.js","content":"/*eslint-disablereact/no-unescaped-entities*///app/page.js\"useclient\";import{useEffect}from\"react\";import{useRouter}from\"next/navigation\";importMainLayoutfrom\"@/components/MainLayout\";exportdefaultfunctionHome(){constrouter=useRouter();useEffect(()=>{router.replace(\"/home\");},[router]);return<MainLayout></MainLayout>;}"},"providers.jsx":{"path":"/home/di/jobs/forum-frontend/app/providers.jsx","content":"//app/providers.tsx\"useclient\";import{NextUIProvider}from\"@nextui-org/react\";import{BookProvider}from\"@/context/BookContext\";import{LayoutProvider}from\"@/context/LayoutContext\";exportfunctionProviders({children}){return(<NextUIProvider><LayoutProvider><BookProvider>{children}</BookProvider></LayoutProvider></NextUIProvider>);}"},"search":{"page.js":{"path":"/home/di/jobs/forum-frontend/app/search/page.js","content":"//app/search/page.jsimportMainLayoutfrom\"@/components/MainLayout\";constSearchPage=()=>{return(<MainLayout><divclassName=\"p-4\"><h1className=\"text-4xlfont-boldmb-4\">SearchPage</h1><p>Conte√∫dodap√°ginadebusca.</p></div></MainLayout>);};exportdefaultSearchPage;"}}},"components":{"BookCarouselSection.jsx":{"path":"/home/di/jobs/forum-frontend/components/BookCarouselSection.jsx","content":"\"useclient\";importReact,{useContext,useState,useEffect}from\"react\";import{Image}from\"@nextui-org/react\";importSliderfrom\"react-slick\";importaxiosfrom\"axios\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import{BookContext}from\"../context/BookContext\";constBookCarouselSection=()=>{const[books,setBooks]=useState([]);const[page,setPage]=useState(1);const[hasMore,setHasMore]=useState(true);const[selectedBookId,setSelectedBookId]=useState(null);const{setSelectedBook}=useContext(BookContext);constfetchBooks=async(page)=>{try{constresponse=awaitaxios.get(\"http://localhost:7700/indexes/livros/search\",{headers:{Authorization:`Bearer${process.env.NEXT_PUBLIC_MEILISEARCH_API_KEY}`,},params:{q:\"\",//Emptyquerytofetchallbooksoffset:(page-1)*10,limit:10,},});setBooks((prevBooks)=>[...prevBooks,...response.data.hits]);setHasMore(response.data.nbHits>page*10);}catch(error){console.error(\"Erroaobuscarlivros:\",error);}};useEffect(()=>{fetchBooks(page);},[page]);constgetCoverImageUrl=(id)=>{const[firstPart,secondPart]=id.split(\"-\");return`https://bid1006-production-public.s3-sa-east-1.amazonaws.com/books/cover/${firstPart}/editions/${secondPart}.jpg`;};consthandleBookSelect=(book)=>{setSelectedBook(book);setSelectedBookId(book.id);};constsettings={slidesToShow:7.5,arrows:false,dots:true,infinite:false,speed:500,variableWidth:true,slidesToScroll:5,responsive:[{breakpoint:1024,settings:{slidesToScroll:4,},},{breakpoint:768,settings:{slidesToScroll:3,},},{breakpoint:480,settings:{slidesToScroll:2,},},],afterChange:(currentSlide)=>{if(hasMore&&currentSlide+5>=books.length){setPage((prevPage)=>prevPage+1);}},};return(<divclassName=\"w-fullh-fullbg-blacktransition-allease-in-out\"><h2className=\"text-3xlfont-boldmb-4\">Livros</h2><Slider{...settings}className=\"\">{books.map((book)=>(<divkey={book.id}className={`p-1flexjustify-centeritems-centerh-[80%]`}onClick={()=>handleBookSelect(book)}><divclassName={`overflow-hiddenflexjustify-centeritems-centerpy-[5.5px]transition-all${book.id===selectedBookId?\"scale-105\":\"hover:scale-105\"}`}><Imageloading=\"lazy\"src={getCoverImageUrl(book.id)}alt={book.text_2}className=\"object-coverh-[220px]w-[160px]rounded-mdtransition-all\"/></div></div>))}</Slider></div>);};exportdefaultBookCarouselSection;"},"BookSearch.jsx":{"path":"/home/di/jobs/forum-frontend/components/BookSearch.jsx","content":"\"useclient\";//components/BookSearch.jsximportReact,{useContext,useState}from\"react\";import{Input,Button}from\"@nextui-org/react\";import{BookContext}from\"../context/BookContext\";constBookSearch=()=>{const{searchBooks,loading}=useContext(BookContext);const[query,setQuery]=useState(\"\");consthandleSearch=()=>{searchBooks(query);};return(<divclassName=\"search-container\"><Inputvalue={query}onChange={(e)=>setQuery(e.target.value)}placeholder=\"Searchforbooks...\"fullWidth/><ButtononPress={handleSearch}disabled={loading}>{loading?\"Searching...\":\"Search\"}</Button></div>);};exportdefaultBookSearch;"},"BookSearchById.jsx":{"path":"/home/di/jobs/forum-frontend/components/BookSearchById.jsx","content":"//components/BookSearchById.jsx\"useclient\";importReact,{useContext,useState}from\"react\";import{Input,Button}from\"@nextui-org/react\";import{BookContext}from\"../context/BookContext\";import{useRouter}from\"next/navigation\";constBookSearchById=()=>{const{getBookById,loading}=useContext(BookContext);const[id,setId]=useState(\"\");constrouter=useRouter();consthandleSearch=async()=>{constbook=awaitgetBookById(id);if(book){router.push(`/book/${id}`);}};return(<divclassName=\"search-container\"><Inputvalue={id}onChange={(e)=>setId(e.target.value)}placeholder=\"EnterbookID...\"fullWidth/><ButtononPress={handleSearch}disabled={loading}>{loading?\"Searching...\":\"Search\"}</Button></div>);};exportdefaultBookSearchById;"},"Hero.jsx":{"path":"/home/di/jobs/forum-frontend/components/Hero.jsx","content":"//components/Hero.jsx\"useclient\";importReact,{useContext}from\"react\";import{motion,AnimatePresence}from\"framer-motion\";import{Button,Image,Modal,ModalContent,ModalHeader,ModalBody,ModalFooter,Chip,useDisclosure,ScrollShadow,}from\"@nextui-org/react\";import{FaBook}from\"react-icons/fa\";import{LayoutContext}from\"@/context/LayoutContext\";import{useRouter}from\"next/navigation\";import{BookContext}from\"@/context/BookContext\";constanimationVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},};consttruncateText=(text,limit)=>{if(text.length>limit){returntext.substring(0,limit)+\"...\";}returntext;};constgetDynamicFontSize=(textLength)=>{if(textLength>40)return\"text-3xl\";if(textLength>30)return\"text-4xl\";return\"text-5xl\";};constHero=({title,summary,bgImage,pdfLink,publication_year,subjects,id,})=>{const{isHeroExpanded}=useContext(LayoutContext);const{isOpen,onOpenChange}=useDisclosure();constrouter=useRouter();const{setSelectedBook}=useContext(BookContext);if(!title)returnnull;constdisplayedSubjects=subjects.slice(0,3);constremainingSubjects=subjects.length-displayedSubjects.length;consthandleMoreInfoClick=()=>{router.push(`/book/${id}`);};return(<divclassName=\"relativew-fullh-fulloverflow-hidden\"><motion.imgloading=\"eager\"src={bgImage}alt={title}className=\"absoluteinset-0w-fullh-fullobject-cover\"initial={{scale:1.4}}animate={{x:[-40,40],scale:1.2}}transition={{repeat:Infinity,repeatType:\"reverse\",duration:20}}/><divclassName=\"absoluteinset-0bg-gradient-to-tfrom-blackvia-transparentto-transparent\"></div><divclassName=\"absoluteinset-0bg-gradient-to-rfrom-blackto-transparent\"></div><divclassName=\"relativeh-fullz-10py-8text-whiteflexflex-coljustify-enditems-startspace-y-4\"><AnimatePresence>{isHeroExpanded&&(<motion.divkey={`${title}-logo`}className=\"absolutetop-0left-0py-4\"initial=\"hidden\"animate=\"visible\"exit=\"hidden\"variants={animationVariants}transition={{duration:0.5}}><Imagealt=\"Logo\"src=\"/logo.webp\"className=\"h-[60px]\"/></motion.div>)}</AnimatePresence><divclassName=\"flexflex-colspace-y-4relative\"><AnimatePresence><motion.h1key={`${title}-heading`}className={`font-extrabold${getDynamicFontSize(title.length)}`}initial=\"hidden\"animate=\"visible\"exit=\"hidden\"variants={animationVariants}transition={{delay:0.1,duration:0.5}}>{title}</motion.h1><motion.divkey={`${title}-details`}className=\"flexgap-x-4items-center\"initial=\"hidden\"animate=\"visible\"exit=\"hidden\"variants={animationVariants}transition={{delay:0.2,duration:0.5}}><pclassName=\"text-mdfont-boldtext-[#46D369]\">{publication_year}</p><divclassName=\"flexitems-center\"><spanclassName=\"text-mdfont-lightflexitems-center\"><bclassName=\"font-boldmr-1\">Assuntos:</b>{displayedSubjects.join(\",\")}{remainingSubjects>0&&(<><ButtonisIconOnlytype=\"button\"variant=\"flat\"size=\"md\"className=\"ml-2cursor-pointer\"aria-label=\"Mostrarmaisassuntos\"onPress={()=>onOpenChange(true)}onTouchStart={()=>onOpenChange(true)}>+{remainingSubjects}</Button><ModalisOpen={isOpen}placement=\"auto\"onOpenChange={onOpenChange}className=\"bg-blackmax-w-fit\"closeButton={false}classNames={{closeButton:\"hidden\"}}><ModalContentclassName=\"bg-blackmax-h-[400px]transition-allshadow-xlshadow-[#da002c28]\">{(onClose)=>(<><ModalHeaderclassName=\"flexflex-colgap-1\">TodososAssuntos</ModalHeader><ScrollShadowclassName=\"max-w-fitmax-h-[400px]px-4text-blackrounded-mdshadow-lgoverflow-y-auto\"><ModalBody><divclassName=\"flexflex-colgap-2overflow-hiddenbreak-words\">{subjects.map((subject,index)=>(<Chipkey={`${subject}-${index}`}color=\"primary\"radius=\"sm\"className=\"break-words\"style={{backgroundColor:\"#000\",maxWidth:\"100%\",}}>‚Ä¢{subject}</Chip>))}</div></ModalBody></ScrollShadow><ModalFooter><Buttoncolor=\"primary\"variant=\"solid\"size=\"sm\"onPress={onClose}className=\"text-[#fff]\">Fechar</Button></ModalFooter></>)}</ModalContent></Modal></>)}</span></div></motion.div><motion.pkey={`${title}-summary`}className=\"text-xlfont-mediummax-w-[40vw]\"initial=\"hidden\"animate=\"visible\"exit=\"hidden\"variants={animationVariants}transition={{delay:0.3,duration:0.5}}>{truncateText(summary,160)}</motion.p><motion.divkey={`${title}-buttons`}className=\"flexspace-x-4mt-4\"initial=\"hidden\"animate=\"visible\"exit=\"hidden\"variants={animationVariants}transition={{delay:0.4,duration:0.5}}><Buttonas=\"a\"href={pdfLink}variant=\"shadow\"color=\"primary\"target=\"_blank\"rel=\"noopenernoreferrer\"className=\"rounded-md\"startContent={<FaBook/>}>Iniciar</Button><ButtonclassName=\"text-whiterounded-md\"variant=\"solid\"color=\"default\"onClick={handleMoreInfoClick}>MaisInforma√ß√µes</Button></motion.div></AnimatePresence></div></div></div>);};exportdefaultHero;"},"MainLayout.js":{"path":"/home/di/jobs/forum-frontend/components/MainLayout.js","content":"\"useclient\";importReact,{useState}from\"react\";importSidebarfrom\"./Sidebar\";import{motion}from\"framer-motion\";constMainLayout=({children})=>{const[isHovered,setIsHovered]=useState(false);consthandleMouseEnter=()=>{setIsHovered(true);};consthandleMouseLeave=()=>{setIsHovered(false);};return(<divclassName=\"flexh-screenoverflow-hidden\"><motion.divclassName=\"fixedleft-0top-0h-fullbg-blacktext-white\"initial={{width:\"10vw\"}}animate={{width:isHovered?\"14vw\":\"10vw\"}}transition={{type:\"spring\",stiffness:160,damping:30}}onMouseEnter={handleMouseEnter}onMouseLeave={handleMouseLeave}><SidebarisHovered={isHovered}/></motion.div><motion.divclassName=\"h-fulloverflow-hidden\"animate={{marginLeft:isHovered?\"14vw\":\"10vw\",width:isHovered?\"86vw\":\"90vw\",}}transition={{type:\"spring\",stiffness:160,damping:30}}>{children}</motion.div></div>);};exportdefaultMainLayout;"},"Sidebar.jsx":{"path":"/home/di/jobs/forum-frontend/components/Sidebar.jsx","content":"importReactfrom\"react\";import{useRouter}from\"next/navigation\";import{motion,AnimatePresence}from\"framer-motion\";import{Avatar,Button}from\"@nextui-org/react\";import{FaPlus}from\"react-icons/fa\";import{Home,Search,Activity,Document,Paper,Video,InfoCircle,}from\"react-iconly\";constbuttonVariants={hidden:{opacity:0,x:-2},visible:{opacity:1,x:0},};constSidebar=({isHovered})=>{constrouter=useRouter();constmenuItems=[{label:\"In√≠cio\",icon:<Home/>,ariaLabel:\"Home\",path:\"/home\"},{label:\"Buscar\",icon:<Search/>,ariaLabel:\"Search\",path:\"/search\"},{label:\"Emalta\",icon:<Activity/>,ariaLabel:\"Trending\",path:\"/trending\",},{label:\"Livros\",icon:<Document/>,ariaLabel:\"Books\",path:\"/books\"},{label:\"Revistas\",icon:<Paper/>,ariaLabel:\"Magazines\",path:\"/magazines\",},{label:\"V√≠deos\",icon:<Video/>,ariaLabel:\"Series\",path:\"/videos\"},{label:\"Informativos\",icon:<InfoCircle/>,ariaLabel:\"Informative\",path:\"/informative\",},{label:\"Minhalista\",icon:<FaPlus/>,ariaLabel:\"MyList\",path:\"/mylist\",},];return(<motion.divclassName=\"fixedleft-0top-0h-fullbg-blacktext-whiteflexflex-coljustify-betweenpy-4\"initial={{width:\"10vw\"}}animate={{width:isHovered?\"14vw\":\"10vw\"}}transition={{type:\"spring\",stiffness:160,damping:30}}><divclassName=\"flexflex-colitems-centerw-full\"><motion.divclassName=\"flexitems-centerw-fulljustify-centergap-x-2\"initial={false}animate={{opacity:isHovered?1:0}}transition={{delay:isHovered?0.2:0,duration:0.5}}style={{pointerEvents:isHovered?\"auto\":\"none\"}}><Avatarsrc=\"https://i.pravatar.cc/150\"size=\"md\"isBorderedcolor=\"primary\"/><divclassName=\"flexflex-colitems-startjustify-centerpt-1\"><pclassName=\"text-smfont-semiboldpl-3\">DiegoF.</p><Buttonsize=\"sm\"autocolor=\"secondary\"variant=\"light\"className=\"text-xstext-white\">EditarPerfil</Button></div></motion.div></div><divclassName=\"mx-auto\"><divclassName={`flexflex-col${isHovered?\"items-start\":\"items-center\"}space-y-4w-fit`}>{menuItems.map(({label,icon,ariaLabel,path},index)=>(<Buttonkey={label}isIconOnly={!isHovered}color=\"default\"variant={isHovered?\"light\":\"flat\"}aria-label={ariaLabel}size=\"md\"className=\"transition-all\"onClick={()=>router.push(path)}><AnimatePresence><motion.spankey={`${label}-icon`}initial=\"hidden\"className={`${!isHovered?\"visible\":\"hidden\"}`}>{icon}</motion.span><motion.spankey={`${label}-label`}variants={buttonVariants}initial=\"hidden\"animate=\"visible\"exit=\"hidden\"transition={{duration:0.3}}className={`${isHovered?\"visible\":\"hidden\"}`}>{label}</motion.span></AnimatePresence></Button>))}</div></div><divclassName=\"flexflex-colitems-centerw-full\"><motion.divinitial={false}className=\"flexflex-coljustify-startspace-y-4\"animate={{opacity:isHovered?1:0}}transition={{delay:isHovered?0.2:0,duration:0.5}}style={{pointerEvents:isHovered?\"auto\":\"none\"}}><Buttonautocolor=\"default\"variant=\"light\"className=\"text-xs\"size=\"sm\"onClick={()=>router.push(\"/help\")}>Ajuda</Button><Buttonautocolor=\"default\"variant=\"light\"className=\"text-xs\"size=\"sm\"onClick={()=>router.push(\"/logout\")}>Sair</Button></motion.div></div></motion.div>);};exportdefaultSidebar;"}},"context":{"BookContext.jsx":{"path":"/home/di/jobs/forum-frontend/context/BookContext.jsx","content":"//context/BookContext.jsx\"useclient\";importReact,{createContext,useState}from\"react\";importmeilisearchClientfrom\"../utils/meilisearchClient\";exportconstBookContext=createContext();exportconstBookProvider=({children})=>{const[selectedBook,setSelectedBook]=useState(null);const[books,setBooks]=useState([]);const[loading,setLoading]=useState(false);constsearchBooks=async(query)=>{setLoading(true);try{constindex=meilisearchClient.index(\"livros\");constsearchResult=awaitindex.search(query,{limit:10,});setBooks(searchResult.hits);}catch(error){console.error(\"Errorsearchingbooks:\",error);}finally{setLoading(false);}};constgetBookById=async(id)=>{setLoading(true);try{constindex=meilisearchClient.index(\"livros\");constsearchResult=awaitindex.search(\"\",{filter:`id=${id}`,});if(searchResult.hits.length>0){setSelectedBook(searchResult.hits[0]);}else{setSelectedBook(null);}}catch(error){console.error(\"ErrorfetchingbookbyID:\",error);}finally{setLoading(false);}};return(<BookContext.Providervalue={{selectedBook,setSelectedBook,books,searchBooks,getBookById,loading,}}>{children}</BookContext.Provider>);};"},"LayoutContext.jsx":{"path":"/home/di/jobs/forum-frontend/context/LayoutContext.jsx","content":"\"useclient\";import{createContext,useState}from\"react\";exportconstLayoutContext=createContext();exportconstLayoutProvider=({children})=>{const[heroHeight,setHeroHeight]=useState(70);const[isHeroExpanded,setIsHeroExpanded]=useState(true);return(<LayoutContext.Providervalue={{heroHeight,setHeroHeight,isHeroExpanded,setIsHeroExpanded}}>{children}</LayoutContext.Provider>);};"}},"jsconfig.json":{"path":"/home/di/jobs/forum-frontend/jsconfig.json","content":"{\"compilerOptions\":{\"paths\":{\"@/*\":[\"./*\"]}}}"},"next.config.mjs":{"path":"/home/di/jobs/forum-frontend/next.config.mjs","content":"/**@type{import('next').NextConfig}*/constnextConfig={};exportdefaultnextConfig;"},"package.json":{"path":"/home/di/jobs/forum-frontend/package.json","content":"{\"name\":\"forum-frontend\",\"version\":\"0.1.0\",\"private\":true,\"scripts\":{\"dev\":\"nextdev\",\"build\":\"nextbuild\",\"start\":\"nextstart\",\"lint\":\"nextlint\"},\"dependencies\":{\"@nextui-org/react\":\"^2.4.1\",\"@react-hook/window-scroll\":\"^1.3.0\",\"@react-pdf/renderer\":\"^3.4.4\",\"axios\":\"^1.7.2\",\"copy-webpack-plugin\":\"^12.0.2\",\"framer-motion\":\"^11.2.10\",\"lodash\":\"^4.17.21\",\"lodash.debounce\":\"^4.0.8\",\"meilisearch\":\"^0.40.0\",\"next\":\"14.2.3\",\"pdfjs-dist\":\"^4.3.136\",\"react\":\"^18\",\"react-dom\":\"^18\",\"react-iconly\":\"^2.2.10\",\"react-icons\":\"^5.2.1\",\"react-pdf\":\"^9.0.0\",\"react-scroll-snap\":\"^1.0.0\",\"react-slick\":\"^0.30.2\",\"scroll-snap\":\"^4.0.5\",\"slick-carousel\":\"^1.8.1\"},\"devDependencies\":{\"eslint\":\"^8\",\"eslint-config-next\":\"14.2.3\",\"postcss\":\"^8\",\"tailwindcss\":\"^3.4.1\"}}"},"postcss.config.mjs":{"path":"/home/di/jobs/forum-frontend/postcss.config.mjs","content":"/**@type{import('postcss-load-config').Config}*/constconfig={plugins:{tailwindcss:{},},};exportdefaultconfig;"},"tailwind.config.js":{"path":"/home/di/jobs/forum-frontend/tailwind.config.js","content":"const{nextui}=require(\"@nextui-org/react\");/**@type{import('tailwindcss').Config}*/module.exports={content:[\"./pages/**/*.{js,ts,jsx,tsx,mdx}\",\"./components/**/*.{js,ts,jsx,tsx,mdx}\",\"./app/**/*.{js,ts,jsx,tsx,mdx}\",\"./node_modules/@nextui-org/theme/dist/**/*.{js,ts,jsx,tsx}\",],theme:{extend:{backgroundImage:{\"gradient-radial\":\"radial-gradient(var(--tw-gradient-stops))\",\"gradient-conic\":\"conic-gradient(from180degat50%50%,var(--tw-gradient-stops))\",},colors:{//Sevoc√™desejaadicionarcorespersonalizadasaoTailwindCSSprimary:\"#DA002B\",secondary:\"#002447\",background:\"#030202\",neutral:\"#424041\",lightNeutral:\"#4F4E4F\",white:\"#FFFFFF\",gray:\"#CDCDCD\",},},},darkMode:\"class\",plugins:[nextui({themes:{light:{colors:{background:\"#FFFFFF\",foreground:\"#11181C\",primary:{50:\"#e6f1fe\",100:\"#cce3fd\",200:\"#99c7fb\",300:\"#66aaf9\",400:\"#338ef7\",500:\"#006FEE\",600:\"#005bc4\",700:\"#004493\",800:\"#002e62\",900:\"#001731\",foreground:\"#FFFFFF\",DEFAULT:\"#006FEE\",},},},dark:{colors:{background:\"#030202\",foreground:\"#FFFFFF\",primary:{50:\"#ffebec\",100:\"#ffcec8\",200:\"#ffa3a1\",300:\"#ff6e6f\",400:\"#ff5356\",500:\"#DA002B\",//Primarycolor600:\"#c0001b\",700:\"#a50014\",800:\"#8a000d\",900:\"#6f0007\",foreground:\"#FFFFFF\",DEFAULT:\"#DA002B\",},secondary:{50:\"#e4f1ff\",100:\"#badfff\",200:\"#85cbff\",300:\"#4db0ff\",400:\"#288eff\",500:\"#002447\",//Secondarycolor600:\"#001b3b\",700:\"#00132f\",800:\"#000a23\",900:\"#000317\",foreground:\"#FFFFFF\",DEFAULT:\"#002447\",},neutral:{50:\"#f5f5f5\",100:\"#e8e8e8\",200:\"#d1d1d1\",300:\"#bcbcbc\",400:\"#a6a6a6\",500:\"#8c8c8c\",600:\"#6f6f6f\",700:\"#545454\",800:\"#3a3a3a\",900:\"#2a2a2a\",foreground:\"#CDCDCD\",DEFAULT:\"#424041\",//Neutralcolor},},},},}),],};"},"utils":{"meilisearchClient.js":{"path":"/home/di/jobs/forum-frontend/utils/meilisearchClient.js","content":"//utils/meilisearchClient.jsimport{MeiliSearch}from\"meilisearch\";constclient=newMeiliSearch({host:process.env.NEXT_PUBLIC_MEILISEARCH_HOST,apiKey:process.env.NEXT_PUBLIC_MEILISEARCH_API_KEY,});exportdefaultclient;"}}}